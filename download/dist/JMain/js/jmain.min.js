'use strict';(function(){function s(c){function d(c){var d=this===window?{}:this;c&&c.indexOf('.')&&c.split('.').forEach((function(b){d=d.addNS(b)}))}return d.prototype.addNS=function(b,a){if(b)return b.match(window.validateNS)?('undefined'==typeof this[b]&&(a&&!a.hasOwnProperty('addNS')?(a.addNS=d.prototype.addNS,this[b]=a):this[b]=new d),this[b]):void 0},c?(c.hasOwnProperty('addNS')||(c.addNS=d.prototype.addNS),c):new d}function t(i,a){for(var j,c=window,d=i.split('.'),e=d.length,f=e-1,g=0;g<e;g++)j=c,c=c[d[g]];return a&&(j[d[f]]=null,delete j[d[f]]),c}function u(i){var a,b,k,d,e,f=i||location.search,g=f.indexOf('?');if(-1==f.indexOf('?'))return{};a=f.substr(g+1).split('&'),e=a.length,b={};for(var h=0;h<e;++h)k=a[h].substring(0,a[h].indexOf('=')),d=a[h].substring(a[h].indexOf('=')+1,a[h].length),b[k]=decodeURIComponent(d.replace(/\+/g,' '));return b}function c(){function f(){for(var b=arguments.length,c=0;c<b;c++)arguments[c]=arguments[c]instanceof Array?Promise.all(arguments[c].map((a)=>a instanceof Array?f(...a):f(a))):a(arguments[c]);return 1==b?arguments[0]:Promise.all(arguments)}function a(b){return b instanceof Promise?b:g.sendRequest(b)}var b=arguments.length,h=arguments;return new Promise(function(a,d){f(...h).then((function(){a(...arguments)}),(c)=>{var f={error:c};return e(k)?void i(k,f):d(f)})})}function v(g,a,j){var c=g.result instanceof Blob&&'blob'!==a.mime,d={request:a,response:c?URL.createObjectURL(g.result):g.result},k=/^.*\.(css|js)([?#]{1}.*)?$/gi.exec(a.src);k?w({href:d.response,type:k[1],name:a.src,repeatTag:a.repeatTag,referenceTag:a.referenceTag}).then((function(){i(h,d),j()})):(i(h,d),j(d))}function d(c,d){return'string'==typeof c||c instanceof String?{src:c.toString()}:d?JSON.parse(JSON.stringify(c)):c}function w(c={}){return new Promise(function(a,b){var d,e,f,g;if(!c.repeatTag&&c.referenceTag){var h=('js'==c.type?'script':'link')+'[data-name="'+c.name+'"]';document.querySelector(h)&&a({})}switch(c.type){case'js':d=document.createElement('script'),d.src=c.href,d.async=!0;break;case'css':d=document.createElement('link'),d.href=c.href,d.rel='stylesheet',d.type='text/css';}c.referenceTag&&(f=c.name,g=f.indexOf('?'),-1<g&&(f=f.substring(0,g)),d.dataset.name=f),c.name&&(e=u(c.name),Object.keys(e).forEach((b)=>d.setAttribute(b,e[b]))),d.addEventListener('load',a,!1),d.addEventListener('error',b,!1),m.appendChild(d)})}function e(b){return'[object Function]'==Object.prototype.toString.call(b)}function f(){var d,a=arguments.length;if(1<a){d=[];for(var b=1;b<a;b++)d[d.length]=arguments[b]}return d}function i(c){var a=f(...arguments);if(e(c))return a?c(...a):c(a)}var g,j,h,k,l='assets/config/filesToUpdate.json',b='dvContainerJGet',m=document.querySelector(`#${b}`)||document.createElement('div'),n=new s;window.jr=new s(function(d){var e={filesUpdatePath:l,getToWindow:!0};return Object.assign(e,d),jr.useFileSystem=e.useFS,jr.filesUpdatePath=e.filesUpdatePath||l,j=e.cbStartRequest,h=e.cbEndRequest,k=e.cbErrorRequest,e.getToWindow&&(window.get=c),c({src:jr.filesUpdatePath,cache:!1}).then((function(b){return jr.filesToUpdate=b.response,e.packages?(jr.service=n.serviceLocator,jr.service(e.packages)):Promise.resolve()}),(function(b){return b}))}),Promise.prototype.spread||(Promise.prototype.spread=function(c){return this.then((function(a){return a instanceof Array?c(...a):c(a)}))}),function(){function e(){function c(b){e.observador.notify(b.data.observedId,b).remove(b.data.observedId)}var e;return 3>f.size&&(e=new Worker(jr.fileSystemWorkerPath),e.observador=n.observer.instance,e.addEventListener('message',c,!1),e.addEventListener('error',c,!1),f.set(f.size,e)),b>=f.size&&(b=0),e=f.get(b),b++,e}var f=new Map,b=0;this.sendRequest=function(f){var b=d(f,!0);return new Promise(function(c,a){var d,g;d=n.command.instance.on('message',v).on('error',a),g=e(),b.observedId=g.observador.add((function(b){d.trigger(b.type,b.data,f,c)})),i(j,b),g.postMessage(Object.assign({files:jr.filesToUpdate},b))}).then((function(b){return i(f.then,b),b}),(function(c){return b.error=c,i(f.catch,b),Promise.reject(b)}))},this.init=function(){return Promise.resolve()}}.call(jr.addNS('fileSystem')),function(){function e(){return c?Promise.resolve(c):navigator.serviceWorker.getRegistration().then((b)=>c=b)}var c;this.sendRequest=function(f){var g=d(f,!0);return new Promise(function(c,b){e().then((function(d){var a=new MessageChannel;a.port1.onmessage=function(d){return'string'==typeof d.data?void b(d.data):void v(d.data,g,c)},i(j,g),d.active.postMessage(Object.assign({files:jr.filesToUpdate},g),[a.port2])}))}).then((function(b){try{i(f.then,b)}catch(b){throw g.error=b,g}return b}),(function(b){return g.error=b,i(f.catch,g),Promise.reject(g)}))},this.init=function(){return Promise.all([navigator.serviceWorker.register(jr.serviceWorkerPath),navigator.serviceWorker.ready]).then((function(b){return jr.dev&&void 0,navigator.onLine?b[0].update():Promise.resolve()})).then((function(){navigator.serviceWorker.addEventListener('message',(function(){}))}))}}.call(jr.addNS('serviceWorker')),Array.prototype.sortBy=function(d){for(var a,b=this.length;b;)a=this[--b],this[b]=[].concat(d.call(a,a,b),a);this.sort((function(e,c){for(var a=0,b=e.length;a<b;++a)if(e[a]!=c[a])return e[a]<c[a]?-1:1;return 0}));for(var b=this.length;b;)this[--b]=this[b][this[b].length-1];return this},(function(){window.addEventListener('beforeinstallprompt',(function(b){b.userChoice.then((function(b){'dismissed'==b.outcome}))}))})(),function(){var g=this;(function(){function a(){var e={},a=this;return a.on=function(b,c){return e[b]=function(){return i(c,...arguments),a},a},a.off=function(b){return delete e[b],a},a.trigger=function(b){let c=f(...arguments)||[];return i(e[b],...c),a},a}Object.defineProperty(g,'command',{get:()=>new a})})(),(function(){function a(){var g=new Map,a=this;return a.add=function(a){var b=new e(a);return g.set(b.id,b),b.id},a.remove=function(b){return g.delete(b),a},a.notify=function(b){return g.has(b)&&g.get(b).update(f(arguments)),a},a}function e(c){this.update=function(){return i(c,...arguments),this},this.id=++b}var b=0;Object.defineProperty(g,'observer',{get:()=>new a})})(),(function(){function b(){function d(a){var b='string'==typeof a?a:a.name,f=g.get(b)||a;if(!f.paths)throw'Package does not have any path: '+a;return new Promise(function(a,e){var i,j;n.has(b)?i=Promise.resolve({response:n.get(b)}):(j=[],f.dependencies&&f.dependencies.forEach((a)=>{h.has(a)||(h.set(a,d(a)),j.push(h.get(a)))}),!h.has(f.name)&&h.set(f.name,Promise.all(j).then(()=>c(f.paths))),i=h.get(f.name)),i.then((function(c){var e=[];(g.has(b)?Promise.resolve():k([c.response])).then((function(){f=g.get(b),f.namespaces.forEach((function(b){e.push(t(b))})),n.set(b,e),a(e)}))}),e)})}function k(d){var e='string'==typeof d?c(d):Promise.resolve({response:d});return e.then((function(b){b.response instanceof Array||(b.response=[b.response]),b.response.forEach((b)=>{g.has(b.name)||g.set(b.name,{name:b.name,paths:b.paths,namespaces:b.namespaces,dependencies:b.dependencies})})}))}function b(a){return'string'==typeof a?/.+(\.|\/).+/.test(a)?k(a):d(a):'object'==typeof a?k(a):a instanceof Array?k(a):void 0}var e=this,n=new Map,g=new Map,h=new Map;return b.remove=function(b){var e='string'==typeof b?b:b.name,c=g.get(e)||b;return c&&(c.namespaces&&c.namespaces.forEach((b)=>t(b,!0)),c.paths&&c.paths.forEach((c)=>{var a=document.querySelector(`[data-name="${c}"]`);a&&a.parentNode.removeChild(a)})),n.delete(b),h.delete(b),Promise.resolve()},b}Object.defineProperty(n,'serviceLocator',{get:()=>new b})})(),this.addNS('singleton',(function(c,a){return c&&c.singletonInstance?c:e(a)?(c=a(),Object.defineProperty(c,{value:!0}),c.singletonInstance=!0,c):void 0}))}.call(n),jr.isFunction=e,jr.parametersWithoutFirst=f,jr.execFunction=i,jr.errorHandler=function(){},jr.getQuerys=u,jr.insertAfter=function(c,a){c.parentNode.insertBefore(a,c.nextSibling)},jr.deleteTag=function(b){b&&b.parentNode.removeChild(b)},jr.parseJsonDate=function(d){var a=6e4*new Date().getTimezoneOffset(),b=/\/Date\((-?\d+)([+-]\d{2})?(\d{2})?.*/.exec(d);return void 0==b[2]&&(b[2]=0),void 0==b[3]&&(b[3]=0),new Date(+b[1]+a+3.6e6*b[2]+6e4*b[3])},jr.now=function(){var b=new Date;return b.getFullYear()+'-'+(b.getMonth()+1)+'-'+(b.getDay()-1)+' '+b.getHours()+':'+b.getMinutes()},jr.namespace=s,jr.import=t,jr.get=c,jr.tagScriptLink=w,jr.patterns=n,jr.validateNS=/^[a-zA-Z]?[a-zA-z0-9]+$/,jr.countTags=0,jr.filesToUpdate=[],jr.ssl=-1<location.origin.indexOf('https'),jr.dev='localhost'===location.hostname||'127.0.0.1'===location.hostname,jr.lang=document.querySelector('html').getAttribute('lang'),(function(){var c=document.currentScript,a={useFS:!1,useSW:!0,workersCount:3};Object.assign(a,document.currentScript.dataset),jr.useServiceWorker=a.useSW,jr.fileSystemWorkerPath=a.fileSystemWorkerPath||'assets/js/workers/filesystem-worker.js',jr.serviceWorkerPath=a.serviceWorkerPath||'./service-worker.js',jr.useServiceWorker&&(g=jr.serviceWorker),jr.useFileSystem&&(g=jr.fileSystem,window.addEventListener('load',(function(){window.applicationCache.addEventListener('updateready',(function(){window.applicationCache.status==window.applicationCache.UPDATEREADY&&(window.applicationCache.swapCache(),window.location.reload())}),!1)}),!1)),g.init().then((function(){m.id||(m.id=b),w({href:c.dataset.init,type:'js'}),document.body.hasChildNodes(m)||document.body.appendChild(m)}))})()})(window);