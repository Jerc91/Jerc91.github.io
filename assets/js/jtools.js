'use strict';(function(){function m(){function d(a){if(a)for(var b=0;b<a.length;b++)a[b].textContent=""}this.reset();this.removeAttribute("data-state");var a=this.querySelector(".form.validated");a&&a.classList.remove("validated");d(this.querySelectorAll("span[data-bind]"));d(this.querySelectorAll("output[data-bind]"));var c=this.querySelectorAll("[data-disabled]");if(c)for(a=0;a<c.length;a++)c[a].setAttribute("disabled","disabled");if(c=this.querySelectorAll("[data-not-disabled]"))for(a=0;a<c.length;a++)c[a].removeAttribute("disabled",
"disabled");if(c=this.querySelectorAll("[data-id]"))for(a=0;a<c.length;a++)delete c[a].dataset.id;if(c=this.querySelectorAll("[data-fade]"))for(a=0;a<c.length;a++)c[a].classList.add("fade");a=this.querySelectorAll('[type="hidden"]:not([data-block])');[].slice.call(a,(function(a){a.value=""}));(a=this.querySelector("button[data-accion]"))&&a.removeAttribute("data-accion")}function n(){if(!this.checkValidity()){for(var d=this.querySelectorAll(".form"),a,c=0;c<d.length;c++){var b=d[c].querySelector(":invalid");
a=a||b;b&&!d[c].classList.contains("active")&&g.apply(d[c].querySelector("header h4"));d[c].classList.add("validated")}a&&a.focus();return false}return true}function p(){for(var d=this.querySelectorAll("[data-no-disabled]"),a=0;a<d.length;a++){d[a].setAttribute("data-no-disabled","active");d[a].setAttribute("disabled","")}}function q(d){var a=this.querySelectorAll("[data-bind]");if(a.length!=0){var c={};for(var b=0;b<a.length;b++)if(a[b].tagName.toLowerCase()=="input")if(a[b].type.toLowerCase()==
"radio"){if(a[b].checked)c[a[b].dataset.bind]=a[b].value}else a[b].type.toLowerCase()=="checkbox"?c[a[b].dataset.bind]=a[b].checked?true:false:a[b].type.toLowerCase()=="file"?c[a[b].dataset.bind]=a[b].file:c[a[b].dataset.bind]=a[b].value;else c[a[b].dataset.bind]=a[b].value;if(d){d=[];for(b in c)d.push(c[b]);return d}return c}}function r(d){for(var a in d){var c=this.querySelectorAll('[data-bind="'+a+'"]');if(c[0])if(c[0].getAttribute("type")=="radio"){var b;[].slice.call(c).filter((function(c){c.value.toString()==
d[a].toString()&&(b=c)}));if(b)b.checked=true}else if(c[0].getAttribute("type")=="checkbox")for(var h=0;h<c.length;h++)for(var e=0;e<d[a].length;e++){if(c[h].value==d[a][e])c[h].checked=true}else if(c[0].getAttribute("type")!="file")if(c[0].fnGet){var f=c[0].bind;h=(c[0].db.length?c[0].db:[c[0].db]).fnFind((function(b){return b[f.id]==d[a]}));c[0].value=h[f.text];c[0].dataset.id=d[a]}else c[0].value=d[a]}}function g(d,a,c){d=d||this;var b=d.parentNode.parentNode;c&&(b=d);d=b.querySelector("fieldset ul");
var h=b.querySelector("h4");if(!c)if(b.classList.contains("active")&&!a)b.classList.remove("active");else if(!b.classList.contains("active")){b.classList.add("active");b.setAttribute("data-active","");setTimeout((function(){b.removeAttribute("data-active")}),500)}a=b.classList.contains("active");d.style.marginTop=a?"0px":"-"+(d.offsetHeight+h.offsetHeight)+"px"}(function(){Object.defineProperty(Array.prototype,"sortBy",{configurable:false,enumerable:false,value:function c(a){for(var b=this.length;b;){var h=
this[--b];this[b]=[].concat(a.call(h,h,b),h)}this.sort((function(a,b){for(var c=0,e=a.length;c<e;++c)if(a[c]!=b[c])return a[c]<b[c]?-1:1;return 0}));for(b=this.length;b;)this[--b]=this[b][this[b].length-1];return this},writable:false})})();this.fnInsertAfter=function b(a,c){a.parentNode.insertBefore(c,a.nextSibling)};this.fnDeleteTag=function b(c){c&&c.parentNode.removeChild(c)};this.fnParseJsonDate=function h(b){var e=(new Date).getTimezoneOffset()*6E4;b=/\/Date\((-?\d+)([+-]\d{2})?(\d{2})?.*/.exec(b);
b[2]==void 0&&(b[2]=0);b[3]==void 0&&(b[3]=0);return new Date(+b[1]+e+b[2]*36E5+b[3]*6E4)};this.fnNow=function h(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+(e.getDay()-1)+" "+e.getHours()+":"+e.getMinutes()};this.fnForm=function f(e){e.fnClean=m;e.fnIsValid=n;e.fnSetNoDisabled=p;e.fnSet=r;e.fnGet=q;g(e,false,false);e.querySelector("h4").addEventListener("click",(function(){g(this)}),false);e.querySelector("ul").addEventListener("click",(function(){g(this,true)}),false)};this.fnShowForm=
g;this.fnInitButtons=function t(f){f&&!f.length&&(f=[f]);f=f||document.querySelectorAll("a.button, button.button");for(var g=0;g<f.length;g++)f[g].addEventListener("click",(function(f){f.preventDefault();var g=$(this);var k=g.find(".circle");if(!k.height()&&!k.width()){var l=Math.max(g.outerWidth(),g.outerHeight());k.css({height:l,width:l})}l=f.pageX-g.offset().left-k.width()/2;f=f.pageY-g.offset().top-k.height()/2;k.css({top:f+"px",left:l+"px"});k.addClass("animate");setTimeout((function(){k.removeClass("animate")}),
700)}),false)};this.isDate=this.isDate||new RegExp(/(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})/);this.isNull=this.isNull||/^null$/;this.isTrue=this.isTrue||/^true$/;this.isFalse=this.isFalse||/^false$/;this.isZero=this.isZero||/^0$/;this.isHour=this.isHour||new RegExp(/^(0[1-9]|1\d|2[0-3]):([0-5]\d):([0-5]\d)$/)}).apply(jr.addNS("tools"));Object.assign(jr,{Author:"Julian Ruiz",Created:"2016-08-12",Page:"http://jerc91.github.io/#!/JTools",Title:"JTools"});
